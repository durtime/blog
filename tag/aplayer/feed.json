{
    "version": "https://jsonfeed.org/version/1",
    "title": "Durtime • All posts by \"aplayer\" tag",
    "description": "The aroma of black tea no longer exists",
    "home_page_url": "https://my.durtime.top",
    "items": [
        {
            "id": "https://my.durtime.top/posts/0/",
            "url": "https://my.durtime.top/posts/0/",
            "title": "Butterfly添加全局吸底Aplayer教程",
            "date_published": "2022-07-31T11:02:28.000Z",
            "content_html": "<div class=\"note info flat\"><p>以下文章只是教程</p>\n<p>如果部署之后，并没有出现 aplayer , 请确认是否跟足步骤操作或者更换音乐源，多试试。</p>\n<p>如果遇到使用問題，请仔细查看插件文档，或者到插件那裏反饋。</p>\n</div>\n<h2 id=\"前言\"><a class=\"markdownIt-Anchor\" href=\"#前言\">#</a> 前言</h2>\n<p>如果你想使用 aplayer，很多人都會推薦安裝 <a href=\"https://github.com/MoePlayer/hexo-tag-aplayer\">hexo-tag-aplayer</a> 這款插件。這款插件通過 Hexo 獨有的標籤外掛，我們可以很方便的寫入一些參數，插件就會幫我們生成對應的 html。如果你只是使用一些簡單的功能，其實無需使用到這個插件，只需以 html 格式書寫就行，不用插件去轉換。</p>\n<p>例如：</p>\n<p>如果使用插件，在 markdown 中要這樣寫</p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% meting &quot;000PeZCQ1i4XVs&quot; &quot;tencent&quot; &quot;artist&quot; &quot;theme:#3F51B5&quot; &quot;mutex:true&quot; &quot;preload:auto&quot; %&#125;</span><br></pre></td></tr></table></figure>\n<p>其會被插件渲染為</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;aplayer-uxAIfEUs&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;aplayer aplayer-tag-marker meting-tag-marker&quot;</span> <span class=\"attr\">data-id</span>=<span class=\"string\">&quot;000PeZCQ1i4XVs&quot;</span> <span class=\"attr\">data-server</span>=<span class=\"string\">&quot;tencent&quot;</span> <span class=\"attr\">data-type</span>=<span class=\"string\">&quot;artist&quot;</span> <span class=\"attr\">data-mode</span>=<span class=\"string\">&quot;circulation&quot;</span> <span class=\"attr\">data-autoplay</span>=<span class=\"string\">&quot;false&quot;</span> <span class=\"attr\">data-mutex</span>=<span class=\"string\">&quot;true&quot;</span> <span class=\"attr\">data-listmaxheight</span>=<span class=\"string\">&quot;340px&quot;</span> <span class=\"attr\">data-preload</span>=<span class=\"string\">&quot;auto&quot;</span> <span class=\"attr\">data-theme</span>=<span class=\"string\">&quot;#3F51B5&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>如果我們不想使用插件，就需要在 markdown 中用 html 的格式書寫，同時把主題配置文件中的 <code>aplayerInject</code>  開啟</p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;aplayer&quot;</span> <span class=\"attr\">data-id</span>=<span class=\"string\">&quot;000PeZCQ1i4XVs&quot;</span> <span class=\"attr\">data-server</span>=<span class=\"string\">&quot;tencent&quot;</span> <span class=\"attr\">data-type</span>=<span class=\"string\">&quot;artist&quot;</span> <span class=\"attr\">data-mutex</span>=<span class=\"string\">&quot;true&quot;</span> <span class=\"attr\">data-preload</span>=<span class=\"string\">&quot;auto&quot;</span> <span class=\"attr\">data-theme</span>=<span class=\"string\">&quot;#3F51B5&quot;</span>&gt;</span></span><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n<p>這樣我們就可以不用使用多一個插件，當然這種東西見仁見智，選自己喜歡的就行。</p>\n<p>回到正題，這篇文章將教大家如何在 Butterfly 上使用全局吸底 Aplayer</p>\n<p><img src=\"https://file.crazywong.com/gh/jerryc127/CDN/img/butterfly-aplayer-xidi.gif\" alt=\"aplayer\"></p>\n<h2 id=\"關閉-asset_inject\"><a class=\"markdownIt-Anchor\" href=\"#關閉-asset_inject\">#</a> 關閉  <code>asset_inject</code></h2>\n<div class=\"note info flat\"><p>此步驟適用於安裝了  <code>hexo-tag-aplayer</code>  插件的人</p>\n</div>\n<p>由於需要全局都插入 aplayer 和 meting 資源，為了防止插入重複的資源，需要把 asset_inject 設為  <code>false</code></p>\n<p>在 Hexo 的配置文件中</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">aplayer:</span></span><br><span class=\"line\">  <span class=\"attr\">meting:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">asset_inject:</span> <span class=\"literal\">false</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"開啟主題的-aplayerinject\"><a class=\"markdownIt-Anchor\" href=\"#開啟主題的-aplayerinject\">#</a> 開啟主題的  <code>aplayerInject</code></h2>\n<p>在主題的配置文件中， <code>enable</code>  設為  <code>true</code>  和  <code>per_page</code>  設為  <code>true</code></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Inject the css and script (aplayer/meting)</span></span><br><span class=\"line\"><span class=\"attr\">aplayerInject:</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">per_page:</span> <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"插入-aplayer-html\"><a class=\"markdownIt-Anchor\" href=\"#插入-aplayer-html\">#</a> 插入 Aplayer html</h2>\n<p>為了適配 hexo-tag-aplayer，主題內置的 Meting js 仍為 1.2 版本，並非最新的 2.x 版本。</p>\n<p>Aplayer html 例子：</p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;aplayer no-destroy&quot;</span> <span class=\"attr\">data-id</span>=<span class=\"string\">&quot;60198&quot;</span> <span class=\"attr\">data-server</span>=<span class=\"string\">&quot;netease&quot;</span> <span class=\"attr\">data-type</span>=<span class=\"string\">&quot;playlist&quot;</span> <span class=\"attr\">data-fixed</span>=<span class=\"string\">&quot;true&quot;</span> <span class=\"attr\">data-autoplay</span>=<span class=\"string\">&quot;true&quot;</span>&gt;</span></span> <span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n<p>參數解釋</p>\n<table>\n<thead>\n<tr>\n<th>option</th>\n<th>default</th>\n<th>description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>data-id</td>\n<td><strong>require</strong></td>\n<td>song id / playlist id / album id / search keyword</td>\n</tr>\n<tr>\n<td>data-server</td>\n<td><strong>require</strong></td>\n<td>music platform:  <code>netease</code> ,  <code>tencent</code> ,  <code>kugou</code> ,  <code>xiami</code> ,  <code>baidu</code></td>\n</tr>\n<tr>\n<td>data-type</td>\n<td><strong>require</strong></td>\n<td><code>song</code> ,  <code>playlist</code> ,  <code>album</code> ,  <code>search</code> ,  <code>artist</code></td>\n</tr>\n<tr>\n<td>data-fixed</td>\n<td><code>false</code></td>\n<td>enable fixed mode</td>\n</tr>\n<tr>\n<td>data-mini</td>\n<td><code>false</code></td>\n<td>enable mini mode</td>\n</tr>\n<tr>\n<td>data-autoplay</td>\n<td><code>false</code></td>\n<td>audio autoplay</td>\n</tr>\n<tr>\n<td>data-theme</td>\n<td><code>#2980b9</code></td>\n<td>main color</td>\n</tr>\n<tr>\n<td>data-loop</td>\n<td><code>all</code></td>\n<td>player loop play, values: ‘all’, ‘one’, ‘none’</td>\n</tr>\n<tr>\n<td>data-order</td>\n<td><code>list</code></td>\n<td>player play order, values: ‘list’, ‘random’</td>\n</tr>\n<tr>\n<td>data-preload</td>\n<td><code>auto</code></td>\n<td>values: ‘none’, ‘metadata’, ‘auto’</td>\n</tr>\n<tr>\n<td>data-volume</td>\n<td><code>0.7</code></td>\n<td>default volume, notice that player will remember user setting, default volume will not work after user set volume themselves</td>\n</tr>\n<tr>\n<td>data-mutex</td>\n<td><code>true</code></td>\n<td>prevent to play multiple player at the same time, pause other players when this player start play</td>\n</tr>\n<tr>\n<td>data-lrctype</td>\n<td><code>0</code></td>\n<td>lyric type</td>\n</tr>\n<tr>\n<td>data-listfolded</td>\n<td><code>false</code></td>\n<td>indicate whether list should folded at first</td>\n</tr>\n<tr>\n<td>data-listmaxheight</td>\n<td><code>340px</code></td>\n<td>list max height</td>\n</tr>\n<tr>\n<td>data-storagename</td>\n<td><code>metingjs</code></td>\n<td>localStorage key that store player setting</td>\n</tr>\n</tbody>\n</table>\n<div class=\"note info flat\"><p><code>require</code>  代表着這些參數是必須要使用的，其它的參數則可以根據自己需要配置。</p>\n<p>配置全局吸底， <code>data-fixed</code>  和  <code>data-mini</code>  也必須配置，配置為  <code>true</code></p>\n<p>如果使用 Pjax，則在 class 裏需添加  <code>no-destroy</code> ，這樣防止切換頁面時 Aplayer 被銷毀</p>\n</div>\n<p>把   <code>aplayer代碼</code>   插入到主題配置文件的   <code>inject.bottom</code>  去</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">inject:</span></span><br><span class=\"line\">  <span class=\"attr\">head:</span></span><br><span class=\"line\">  <span class=\"attr\">bottom:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">&lt;div</span> <span class=\"string\">class=&quot;aplayer</span> <span class=\"literal\">no</span><span class=\"string\">-destroy&quot;</span> <span class=\"string\">data-id=&quot;60198&quot;</span> <span class=\"string\">data-server=&quot;netease&quot;</span> <span class=\"string\">data-type=&quot;playlist&quot;</span> <span class=\"string\">data-fixed=&quot;true&quot;</span> <span class=\"string\">data-autoplay=&quot;true&quot;&gt;</span> <span class=\"string\">&lt;/div&gt;</span></span><br></pre></td></tr></table></figure>\n<p>運行 Hexo 就可以看到網頁左下角出現了 Aplayer</p>\n<p>最後，如果你想切換頁面時，音樂不會中斷。請把主題配置文件的  <code>pjax</code>  設為  <code>true</code></p>\n",
            "tags": [
                "教程",
                "Hexo",
                "主題",
                "butterfly",
                "Aplayer"
            ]
        }
    ]
}